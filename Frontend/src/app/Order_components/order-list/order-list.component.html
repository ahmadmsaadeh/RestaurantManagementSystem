<!--<app-sidebar></app-sidebar>-->
<div class="container-fluid mt-4 px-0">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Orders</h5>

      <ul class="list-group list-group-flush">
        <li class="list-group-item">
          <div class="row mb-3">
            <div class="col-6 col-md-3 mb-2 mb-md-0">
              <button class="btn w-100" style="height: 45px;"><i class="lni lni-circle-plus"></i> New order</button>
            </div>

            <div class="col-6 col-md-3 mb-2 mb-md-0">
              <div class="input-group" style="height: 45px;">
                <span class="input-group-text" >From Date</span>
                <input type="date" class="form-control" [(ngModel)]="fromDate" (change)="applyDateFilter()">
              </div>
            </div>

            <div class="col-6 col-md-3 mb-2 mb-md-0">
              <div class="input-group" style="height: 45px;">
                <span class="input-group-text">To Date</span>
                <input type="date" class="form-control" [(ngModel)]="toDate" (change)="applyDateFilter()">
              </div>
            </div>

            <div class="col-6 col-md-2 mb-2 mb-md-0 h-10">
              <select class="form-select" [(ngModel)]="selectedStatus" (change)="applyStatusFilter()"  style="height: 45px;">
                <option value="">All Status Orders</option>
                <option value="Open" title="Orders that are currently open and not yet served.">Open</option>
                <option value="Served" title="Orders that have been served to the customers.">Served</option>
                <option value="Closed" title="Orders that are completed and closed.">Closed</option>
              </select>
            </div>
          </div>

          <div class="row mb-3">

            <div class="col-6 col-md-3 mb-2 mb-md-0">
              <div class="input-group" style="height: 45px;">
                <input type="text" class="form-control" [(ngModel)]="searchOrderId" placeholder="Search by Order ID">
                <button class="btn btn-outline-secondary" (click)="applyOrderFilter()"><i class="lni lni-search-alt"></i></button>
              </div>
            </div>

            <!---->
            <div class="col-6 col-md-3 mb-2 mb-md-0">
              <div class="input-group" style="height: 45px;">
              <input type="text" class="form-control" [(ngModel)]="searchUserId" placeholder="Search by User ID">
              <button class="btn" (click)="applyUserIdFilter()"><i class="lni lni-search-alt"></i></button>
              </div>
            </div>

            <div class="col-6 col-md-3 mb-2 mb-md-0">
              <div class="input-group" style="height: 45px;">
                <input type="text" class="form-control" [(ngModel)]="searchReservationId" placeholder="Search by Reservation ID">
              <button class="btn " (click)="applyReservationIdFilter()"><i class="lni lni-search-alt"></i></button>
              </div>
            </div>

            <div class="col-6 col-md-2 mb-2 mb-md-0">
              <button class="btn btn-danger w-100" (click)="resetFilters()">Reset Filters</button>
            </div>
          </div>
        </li>




        <li class="list-group-item">
          <div class="container-fluid mt-4 px-0">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Order Details</h5>
                <div class="table-responsive">
                  <table class="table table-striped table-bordered">
                    <thead>
                    <tr>
                      <th style="width: 5%;">Order No.</th>
                      <th style="width: 5%;">Table No.</th>
                      <th style="width: 5%;">Reservation No.</th>
                      <th style="width: 10%;">Customer No.</th>
                      <th style="width: 20%;">Customer Name</th>
                      <th style="width: 10%;">Order Date</th>
                      <th style="width: 5%;">Order Time</th>
                      <th style="width: 7%;">Order Total</th>
                      <th style="width: 7%;">Status</th>
                      <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let order of orders">
                      <td>{{ order.order_id }}</td>
                      <td>{{ order.table_no }}</td>
                      <td>{{ order.reservation_no }}</td>
                      <td>{{ order.user_id }}</td>
                      <td>{{ order.customer_name }}</td>
                      <td>{{ order.order_date }}</td>
                      <td>{{ order.order_time }}</td>
                      <td>{{ order.order_total | currency }}</td>
                      <td>{{ order.status }}</td>
                      <td>
                        <div class="action-buttons">
                          <button class="btn btn-sm me-2" [routerLink]="['/order-detail', order.order_id]" title="View Order Details">
                            <i class="lni lni-eye"></i>
                          </button>
                          <button class="btn btn-sm me-2" title="Edit Order">
                            <i class="lni lni-pencil-alt"></i>
                          </button>
                          <button class="btn btn-sm" title="Delete Order">
                            <i class="lni lni-trash-can"></i>
                          </button>
                          <button class="btn btn-sm" title="Print Order">
                            <i class="lni lni-printer"></i>
                          </button>
                        </div>
                      </td>
                    </tr>
                    <!-- More data rows can be added here -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </li>

      </ul>
    </div>
  </div>
</div>
